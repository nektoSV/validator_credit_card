!function(){"use strict";const e={visa:"visa",mir:"mir",masterCard:"masterCard",jcb:"jcb",discover:"discover",dinersClub:"dinersClub",americanExpress:"americanExpress"};function t(e){return"2"===e.slice(0,1)?"mir":"4"===e.slice(0,1)?"visa":e.slice(0,2)<="55"&&e.slice(0,2)>="51"?"masterCard":"31"===e.slice(0,2)||"35"===e.slice(0,2)?"jcb":"60"===e.slice(0,2)?"discover":"30"===e.slice(0,2)||"36"===e.slice(0,2)||"38"===e.slice(0,2)?"dinersClub":"34"===e.slice(0,2)||"37"===e.slice(0,2)?"americanExpress":void 0}const i=document.querySelector(".container");new class{constructor(e){this.parentEl=e,this.onSubmit=this.onSubmit.bind(this),this.onFilter=this.onFilter.bind(this)}bindToDOM(){this.parentEl.insertAdjacentHTML("afterBegin",'<form class="card-form-widget">\n      <div class="cards">\n      </div>\n      <div class="control">\n        <input type="text" id="numberCart-input" class="input" placeholder="Credit card number">\n        <button class="submit">Click to Validate</button>\n      </div>\n     </form>\n    ');const t=this.parentEl.querySelector(".cards");for(let i in e){const e=document.createElement("div");e.id=i,e.classList.add("card"),t.appendChild(e)}this.element=this.parentEl.querySelector(".card-form-widget"),this.submit=this.element.querySelector(".submit"),this.input=this.element.querySelector(".input"),this.registrationEvents()}registrationEvents(){this.element.addEventListener("submit",this.onSubmit),this.input.addEventListener("input",this.onFilter)}onFilter(e){e.preventDefault();const i=this.input.value,s=this.parentEl.querySelectorAll(".card");if(t(i)){console.log(t(i));for(let e of s)e.id!==t(i)?(e.classList.remove("active"),e.classList.add("disabled")):(e.classList.add("active"),e.classList.remove("disabled"))}else for(let e of s)e.classList.remove("disabled"),e.classList.remove("active")}onSubmit(e){e.preventDefault(),!function(e){let t=0;for(let i=0;i<e.length-1;i+=1)if(i%2==0)t+=Number(e[i]);else{let s=2*Number(e[i]);if(s=String(s),s.length>1)for(let e=0;e<s.length;e+=1)t+=Number(s[e]);else t+=Number(s)}return 10-t%10===Number(e.slice(-1))}(this.input.value)?(this.input.classList.add("invalid"),this.input.classList.remove("valid")):(this.input.classList.add("valid"),this.input.classList.remove("invalid"))}}(i).bindToDOM()}();